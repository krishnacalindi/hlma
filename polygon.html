

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Polygon Module &mdash; Aggie XLMA beta documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
    <link rel="shortcut icon" href="_static/favicon.svg"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=f0d2c090"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Setup Module" href="setup.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Aggie XLMA
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="hlma.html">HLMA Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="bts.html">BTS Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup Module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Polygon Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#polygon.PolygonFilter"><code class="docutils literal notranslate"><span class="pre">PolygonFilter</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#polygon.PolygonFilter.obj"><code class="docutils literal notranslate"><span class="pre">PolygonFilter.obj</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#polygon.PolygonFilter.ui"><code class="docutils literal notranslate"><span class="pre">PolygonFilter.ui</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#polygon.PolygonFilter.remove"><code class="docutils literal notranslate"><span class="pre">PolygonFilter.remove</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#polygon.PolygonFilter.prev_ax"><code class="docutils literal notranslate"><span class="pre">PolygonFilter.prev_ax</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#polygon.PolygonFilter.clicks"><code class="docutils literal notranslate"><span class="pre">PolygonFilter.clicks</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#polygon.PolygonFilter.view_index"><code class="docutils literal notranslate"><span class="pre">PolygonFilter.view_index</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#polygon.PolygonFilter.handle_poly_plot"><code class="docutils literal notranslate"><span class="pre">PolygonFilter.handle_poly_plot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#polygon.PolygonFilter.on_click"><code class="docutils literal notranslate"><span class="pre">PolygonFilter.on_click()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#polygon.PolygonFilter.polygon"><code class="docutils literal notranslate"><span class="pre">PolygonFilter.polygon()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#polygon.PolygonFilter.update_filter"><code class="docutils literal notranslate"><span class="pre">PolygonFilter.update_filter()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Aggie XLMA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Polygon Module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/polygon.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-polygon">
<span id="polygon-module"></span><h1>Polygon Module<a class="headerlink" href="#module-polygon" title="Link to this heading"></a></h1>
<p>Interactive polygon-based filtering utilities for linked scientific plots.</p>
<p>This module provides the <a class="reference internal" href="#polygon.PolygonFilter" title="polygon.PolygonFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">PolygonFilter</span></code></a> class, which enables
click-driven polygon selection across multiple coordinated views such
as time-altitude, longitude-altitude, longitude-latitude, and
altitude-latitude plots. Users can draw polygons or ranges directly
on the plots, and the module computes corresponding boolean masks for
both the main dataset and a supplementary GSD dataset.</p>
<p>The module also handles updating plot visuals, hiding GS or CC layers
when they become empty, and writing updated masks back into the
application state.</p>
<dl class="py class">
<dt class="sig sig-object py" id="polygon.PolygonFilter">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">polygon.</span></span><span class="sig-name descname"><span class="pre">PolygonFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/polygon.html#PolygonFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#polygon.PolygonFilter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Interactive polygon-based filter for coordinated scientific visualizations.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">PolygonFilter</span></code> class listens for mouse events across several linked
views, records user clicks, renders temporary polygon shapes, and computes
selection masks based on either range constraints or true 2D polygon
inclusion tests. The resulting masks are used to filter both the main
trajectory dataset and a secondary GSD dataset (GS/CC types), with full
visual updates applied when requested.</p>
<p>The class supports both inclusion and exclusion modes and integrates with
an external application that provides <code class="docutils literal notranslate"><span class="pre">ui</span></code> and <code class="docutils literal notranslate"><span class="pre">state</span></code> objects. It
assumes the UI exposes view widgets (<code class="docutils literal notranslate"><span class="pre">v0</span></code>, <code class="docutils literal notranslate"><span class="pre">v1</span></code>, <code class="docutils literal notranslate"><span class="pre">v3</span></code>, <code class="docutils literal notranslate"><span class="pre">v4</span></code>),
point-drawing objects (<code class="docutils literal notranslate"><span class="pre">pd*</span></code> and <code class="docutils literal notranslate"><span class="pre">pl*</span></code>), and GS/CC visual objects
(<code class="docutils literal notranslate"><span class="pre">gs*</span></code> and <code class="docutils literal notranslate"><span class="pre">cc*</span></code>). Filtering results are written back to
<code class="docutils literal notranslate"><span class="pre">obj.state.update</span></code> along with visualization changes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>Any</em><em>, </em><em>optional</em>) – Parent object that must define <code class="docutils literal notranslate"><span class="pre">ui</span></code> and <code class="docutils literal notranslate"><span class="pre">state</span></code> attributes, where
<code class="docutils literal notranslate"><span class="pre">ui</span></code> provides the plotting widgets and <code class="docutils literal notranslate"><span class="pre">state</span></code> holds boolean masks and
pandas data. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, event registration will not occur.</p></li>
<li><p><strong>remove</strong> (<em>bool</em><em>, </em><em>default False</em>) – If True, polygon selection excludes (removes) points from the mask;
otherwise it includes points.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="polygon.PolygonFilter.obj">
<span class="sig-name descname"><span class="pre">obj</span></span><a class="headerlink" href="#polygon.PolygonFilter.obj" title="Link to this definition"></a></dt>
<dd><p>Parent application object containing <code class="docutils literal notranslate"><span class="pre">ui</span></code> and <code class="docutils literal notranslate"><span class="pre">state</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="polygon.PolygonFilter.ui">
<span class="sig-name descname"><span class="pre">ui</span></span><a class="headerlink" href="#polygon.PolygonFilter.ui" title="Link to this definition"></a></dt>
<dd><p>UI container providing plot canvases, views, and visual elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="polygon.PolygonFilter.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><a class="headerlink" href="#polygon.PolygonFilter.remove" title="Link to this definition"></a></dt>
<dd><p>Whether polygon selection removes points instead of including them.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="polygon.PolygonFilter.prev_ax">
<span class="sig-name descname"><span class="pre">prev_ax</span></span><a class="headerlink" href="#polygon.PolygonFilter.prev_ax" title="Link to this definition"></a></dt>
<dd><p>The last active view index where clicking occurred.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="polygon.PolygonFilter.clicks">
<span class="sig-name descname"><span class="pre">clicks</span></span><a class="headerlink" href="#polygon.PolygonFilter.clicks" title="Link to this definition"></a></dt>
<dd><p>Accumulated polygon vertices in the active view.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of tuple of float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="polygon.PolygonFilter.view_index">
<span class="sig-name descname"><span class="pre">view_index</span></span><a class="headerlink" href="#polygon.PolygonFilter.view_index" title="Link to this definition"></a></dt>
<dd><p>Currently active view for receiving click events.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="polygon.PolygonFilter.handle_poly_plot">
<span class="sig-name descname"><span class="pre">handle_poly_plot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/polygon.html#PolygonFilter.handle_poly_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#polygon.PolygonFilter.handle_poly_plot" title="Link to this definition"></a></dt>
<dd><p>Update the temporary polygon drawing in the active view.</p>
<p>This draws the clicked vertices as red dots and, once at least
two points exist, draws the connecting red lines.
Clears visuals if no points remain.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="polygon.PolygonFilter.on_click">
<span class="sig-name descname"><span class="pre">on_click</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/polygon.html#PolygonFilter.on_click"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#polygon.PolygonFilter.on_click" title="Link to this definition"></a></dt>
<dd><p>Handle a mouse click event on one of the linked views.</p>
<p>This records the click position, updates temporary polygon drawings,
and when a right-click completes a polygon, triggers filtering.</p>
<p>This is intended to be connected to a VisPy canvas</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<em>Any</em>) – Mouse event containing <code class="docutils literal notranslate"><span class="pre">pos</span></code> and <code class="docutils literal notranslate"><span class="pre">button</span></code> attributes.</p></li>
<li><p><strong>view_index</strong> (<em>int</em>) – Index of the plot/view where the click occurred.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="polygon.PolygonFilter.polygon">
<span class="sig-name descname"><span class="pre">polygon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/polygon.html#PolygonFilter.polygon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#polygon.PolygonFilter.polygon" title="Link to this definition"></a></dt>
<dd><p>Compute a polygon-based mask for the active plot, and optionally update all visuals and the application state.</p>
<p>Depending on the active view, the selection is interpreted as a
range filter (time-altitude, lon-altitude, alt-latitude) or a
2D polygon (lon-latitude). When <code class="docutils literal notranslate"><span class="pre">update=True</span></code>, the method updates
plot masks, GSD masks, and redraws GS/CC visuals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num</strong> (<em>int</em>) – Identifier of the active plot type (e.g. TIME_ALT_PLOT).</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default False</em>) – If True, apply the masks to <code class="docutils literal notranslate"><span class="pre">obj.state</span></code> and update visuals.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns the boolean mask for the plot when <code class="docutils literal notranslate"><span class="pre">update=False</span></code>.
Returns None when applying updates.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="polygon.PolygonFilter.update_filter">
<span class="sig-name descname"><span class="pre">update_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/polygon.html#PolygonFilter.update_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#polygon.PolygonFilter.update_filter" title="Link to this definition"></a></dt>
<dd><p>Set whether polygon selection includes or excludes points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new</strong> (<em>bool</em>) – If True, selected points are removed instead of included.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="setup.html" class="btn btn-neutral float-left" title="Setup Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Krishna Calindi, Isaac Jones, Timothy Logan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>